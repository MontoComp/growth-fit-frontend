<div
    #toast
    class="toast toast-v2 {{ customClass || ''}}"
    [class.toast__error]="icon === 'ERROR'"
    [class.toast__warning]="icon === 'WARNING'"
    [ngClass]="{
        'position-fixed': appendToBody,
        'position-absolute': !appendToBody,
        'toast--top-left':position === 'topLeft',
        'toast--top-right':position === 'topRight',
        'toast--bottom-left':position === 'bottomLeft',
        'toast--bottom-right':position === 'bottomRight'
    }">

    <div class="toast-v2__left">
        <ng-container *ngIf="icon">
            <ng-container [ngSwitch]="icon">
                <ng-container *ngSwitchCase="'SUCCESS'" [ngTemplateOutlet]="iconSuccess"></ng-container>
                <ng-container *ngSwitchCase="'ERROR'" [ngTemplateOutlet]="iconError"></ng-container>
            </ng-container>
        </ng-container>
    
        <ng-container *ngIf="!!message; else htmlContent">
            <span
                [innerHTML]="message"
                [class.error]="icon === 'ERROR'"
                [class.warning]="icon === 'WARNING'">
            </span>
        </ng-container>
    </div>

    <div
        *ngIf="viewCloseButton"
        class="toast-v2__close"
        (click)="hideToast(0)">
        <ng-container [ngTemplateOutlet]="iconClose"></ng-container>
    </div>
</div>

<ng-template #htmlContent>
    <ng-content></ng-content>
</ng-template>

<ng-template #iconSuccess>
    <svg width="41" height="41" viewBox="0 0 41 42" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20.5" cy="21" r="20.5" fill="#43936C"/>
        <path d="M17.5 21.7096L19.69 23.8996L24.5 19.0996" stroke="#FCF8F4" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M21 30.5C25.9706 30.5 30 26.4706 30 21.5C30 16.5294 25.9706 12.5 21 12.5C16.0294 12.5 12 16.5294 12 21.5C12 26.4706 16.0294 30.5 21 30.5Z" stroke="#FCF8F4" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
</ng-template>

<ng-template #iconError>
    <svg width="41" height="41" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20.5" cy="20.5" r="20.5" fill="#CB3A31" />
        <g clip-path="url(#clip0_497_112)">
            <path
                d="M19.27 14.0001L12.37 26.0001C12.1946 26.304 12.1021 26.6487 12.1021 26.9996C12.102 27.3505 12.1942 27.6953 12.3695 27.9992C12.5448 28.3032 12.797 28.5557 13.1007 28.7314C13.4045 28.9071 13.7491 28.9998 14.1 29.0001H27.9C28.2509 28.9998 28.5955 28.9071 28.8993 28.7314C29.203 28.5557 29.4552 28.3032 29.6305 27.9992C29.8058 27.6953 29.898 27.3505 29.8979 26.9996C29.8979 26.6487 29.8054 26.304 29.63 26.0001L22.73 14.0001C22.5542 13.697 22.3018 13.4455 21.9982 13.2706C21.6946 13.0957 21.3504 13.0037 21 13.0037C20.6496 13.0037 20.3054 13.0957 20.0018 13.2706C19.6982 13.4455 19.4458 13.697 19.27 14.0001Z"
                stroke="#FCF8F4"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"/>
            <path d="M21 16.5V22.8" stroke="#FCF8F4" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M21.001 25.5L21 25.5" stroke="#FCF8F4" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        </g>
        <defs>
            <clipPath id="clip0_497_112">
                <rect width="24" height="24" fill="white" transform="translate(9 9)" />
            </clipPath>
        </defs>
    </svg>    
</ng-template>

<ng-template #iconClose>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M13.4099 12.0002L19.7099 5.71019C19.8982 5.52188 20.004 5.26649 20.004 5.00019C20.004 4.73388 19.8982 4.47849 19.7099 4.29019C19.5216 4.10188 19.2662 3.99609 18.9999 3.99609C18.7336 3.99609 18.4782 4.10188 18.2899 4.29019L11.9999 10.5902L5.70994 4.29019C5.52164 4.10188 5.26624 3.99609 4.99994 3.99609C4.73364 3.99609 4.47824 4.10188 4.28994 4.29019C4.10164 4.47849 3.99585 4.73388 3.99585 5.00019C3.99585 5.26649 4.10164 5.52188 4.28994 5.71019L10.5899 12.0002L4.28994 18.2902C4.19621 18.3831 4.12182 18.4937 4.07105 18.6156C4.02028 18.7375 3.99414 18.8682 3.99414 19.0002C3.99414 19.1322 4.02028 19.2629 4.07105 19.3848C4.12182 19.5066 4.19621 19.6172 4.28994 19.7102C4.3829 19.8039 4.4935 19.8783 4.61536 19.9291C4.73722 19.9798 4.86793 20.006 4.99994 20.006C5.13195 20.006 5.26266 19.9798 5.38452 19.9291C5.50638 19.8783 5.61698 19.8039 5.70994 19.7102L11.9999 13.4102L18.2899 19.7102C18.3829 19.8039 18.4935 19.8783 18.6154 19.9291C18.7372 19.9798 18.8679 20.006 18.9999 20.006C19.132 20.006 19.2627 19.9798 19.3845 19.9291C19.5064 19.8783 19.617 19.8039 19.7099 19.7102C19.8037 19.6172 19.8781 19.5066 19.9288 19.3848C19.9796 19.2629 20.0057 19.1322 20.0057 19.0002C20.0057 18.8682 19.9796 18.7375 19.9288 18.6156C19.8781 18.4937 19.8037 18.3831 19.7099 18.2902L13.4099 12.0002Z" fill="#676A6D"/>
    </svg>
</ng-template>